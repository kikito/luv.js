/*! luv 0.0.1 (2013-02-05) - https://github.com/kikito/luv.js */
/*! Minimal HTML5 game development lib */
/*! Enrique Garcia Cota */
(function(){Luv=function(t){t=t||{};var e=t.el,n=t.el_id,i=t.width,r=t.height;!e&&n&&(e=document.getElementById(n)),this.graphics=new Luv.Graphics(e,i,r)};var t=Luv.prototype;t.update=function(){},t.draw=function(){},t.load=function(){},t.run=function(){var t=this;t.load(),window.requestAnimationFrame(function(e){t.update(e),t.graphics.clear(),t.draw()})},Luv.Graphics=function(t,e,n){t?(!e&&t.getAttribute("width")&&(e=parseInt(t.getAttribute("width"),10)),!n&&t.getAttribute("height")&&(n=parseInt(t.getAttribute("height"),10))):(t=document.createElement("canvas"),document.getElementsByTagName("body")[0].appendChild(t)),e=e||800,n=n||600,t.setAttribute("width",e),t.setAttribute("height",n),this.el=t,this.width=e,this.height=n,this.color={},this.backgroundColor={},this.setColor(255,255,255),this.setBackgroundColor(0,0,0),this.ctx=t.getContext("2d")};var e=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=Luv.Graphics.prototype,i=function(t,n,i,r,o){e(n)?(t.r=n[0],t.g=n[1],t.b=n[2],t.a=n[3]||255):(t.r=n,t.g=i,t.b=r,t.a=o||255)},r=function(t){return[t.r,t.g,t.b,t.a]},o=function(t){return["rgba(",t.r,t.g,t.b,t.a/255,")"].join()};n.setColor=function(t,e,n,r){i(this.color,t,e,n,r)},n.getColor=function(){return r(this.color)},n.setBackgroundColor=function(t,e,n,r){i(this.backgroundColor,t,e,n,r)},n.getBackgroundColor=function(){return r(this.backgroundColor)},n.clear=function(){this.ctx.fillStyle=o(this.backgroundColor),this.ctx.fillRect(0,0,this.width,this.height)},n.print=function(t,e,n){this.ctx.fillText(t,e,n)},n.line=function(){this.ctx.beginPath();var t=e(arguments[0])?arguments[0]:arguments;if(4>t.length)throw Error("luv.graphics.line requires at least 4 parameters");if(1==t.length%2)throw Error("luv.graphics.line requires an even number of parameters");this.ctx.moveTo(t[0],t[1]);for(var n=2;t.length>n;n+=2)this.ctx.lineTo(t[n],t[n+1]);this.ctx.stroke()},function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;e.length>n&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),r=window.setTimeout(function(){e(n+i)},i);return t=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()})();