<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Luv.js example viewer and tester</title>
  <link rel="stylesheet"  href="css/normalize.css" />
  <link rel="stylesheet"  href="css/style.css" />
</head>
<body>

  <div class="page">
    <div class="row">
      <div class="sidebar column">
        <ul id="example-selectors">

        </ul>
      </div>
      <div class="main column">
        <div class="row">
          <div class="code column">
            <form action="#">
              <textarea id="textarea"></textarea>
            </form>
          </div>
          <div class="iframe column">
            <iframe id="iframe">
            </iframe>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="examples.js"></script>
  <script>
    (function() {

      var $textArea = document.getElementById('textarea'),
          $iframe   = document.getElementById('iframe'),
          $ul       = document.getElementById('example-selectors');

      var refreshIframe = function() {
        var $doc = $iframe.contentWindow.document;
        $doc.open();
        $doc.write($textArea.value);
        $doc.close();
      };

      document.addEventListener('DOMContentLoaded', function() {
        $textArea.focus();
        $textArea.addEventListener('input', refreshIframe);

        examples.forEach(function(example) {
          var $li = document.createElement('li'),
              $a  = document.createElement('a');

          $a.href = "#" + example.id;
          $a.innerHTML = example.name;
          $a.addEventListener('click', function(evt) {
            evt.preventDefault();
            evt.stopPropagation();

            $textArea.value = example.html;
            refreshIframe();

            return false;
          });

          $li.appendChild($a);
          $ul.appendChild($li);
        });

      });
    }());


  </script>

</body>
</html>

